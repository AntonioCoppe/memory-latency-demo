<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Memory Latency Motherboard Layout</title>
  <style>
    body { background: #1e1e1e; color: #eee; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; }
    h1 { margin-top: 20px; }
    #board {
      position: relative;
      width: 900px;
      height: 600px;
      background: #2c2c2c;
      border: 4px solid #444;
      margin: 20px 0;
    }
    .mem {
      position: absolute;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: #fff;
      font-size: 12px;
      user-select: none;
    }
    /* CPU cluster */
    #l3 {
      width: 340px; height: 340px;
      border: 2px dashed #8e24aa;
      top: 130px; left: 280px;
    }
    #l2 {
      width: 280px; height: 280px;
      border: 2px dashed #5e35b1;
      top: 160px; left: 310px;
    }
    #l1 {
      width: 220px; height: 220px;
      border: 2px dashed #3949ab;
      top: 190px; left: 340px;
    }
    #cpu-socket {
      width: 160px; height: 160px;
      background: #2196f3;
      top: 230px; left: 380px;
    }
    #regs {
      width: 80px; height: 80px;
      background: #f44336;
      top: 260px; left: 415px;
    }
    /* RAM slots */
    .ram-slot {
      width: 40px; height: 200px;
      background: #4caf50;
      top: 190px;
    }
    #ram1 { left: 550px; }
    #ram2 { left: 600px; }
    #ram3 { left: 650px; }
    #ram4 { left: 700px; }
    /* SSD, HDD, NAS */
    #ssd {
      width: 80px; height: 60px;
      background: #ff9800;
      top: 420px; left: 520px;
    }
    #hdd {
      width: 100px; height: 50px;
      background: #795548;
      top: 490px; left: 500px;
    }
    #nas {
      width: 100px; height: 80px;
      background: #9e9e9e;
      top: 50px; left: 50px;
    }
    .label { pointer-events: none; }
    .packet {
      width: 12px; height: 12px;
      background: #ffeb3b;
      position: absolute;
      border-radius: 2px;
    }
  </style>
</head>
<body>
  <h1>Memory Latency on a Motherboard Layout</h1>
  <div id="board">
    <div id="l3" class="mem" data-lat="L3"></div>
    <div id="l2" class="mem" data-lat="L2"></div>
    <div id="l1" class="mem" data-lat="L1"></div>
    <div id="cpu-socket" class="mem" data-lat="CPU"><span class="label">CPU</span></div>
    <div id="regs" class="mem" data-lat="Registers"><span class="label">Regs</span></div>

    <div id="ram1" class="mem ram-slot" data-lat="RAM"><span class="label">RAM</span></div>
    <div id="ram2" class="mem ram-slot" data-lat="RAM"><span class="label">RAM</span></div>
    <div id="ram3" class="mem ram-slot" data-lat="RAM"><span class="label">RAM</span></div>
    <div id="ram4" class="mem ram-slot" data-lat="RAM"><span class="label">RAM</span></div>

    <div id="ssd" class="mem" data-lat="SSD"><span class="label">SSD</span></div>
    <div id="hdd" class="mem" data-lat="HDD"><span class="label">HDD</span></div>
    <div id="nas" class="mem" data-lat="NAS"><span class="label">NAS</span></div>
  </div>

  <script>
    // Real-world latencies in ms (visual scale)
    const latencies = {
      Registers: 50,
      CPU: 0,
      L1:   80,
      L2:  120,
      L3:  200,
      RAM: 400,
      SSD: 600,
      HDD: 800,
      NAS:1000
    };

    document.querySelectorAll('.mem').forEach(el => {
      const key = el.dataset.lat;
      if (!latencies[key] && latencies[key] !== 0) return;
      el.addEventListener('click', () => {
        const packet = document.createElement('div');
        packet.className = 'packet';
        document.body.appendChild(packet);

        const from = el.getBoundingClientRect();
        packet.style.left = from.left + from.width/2 - 6 + 'px';
        packet.style.top  = from.top  + from.height/2 - 6 + 'px';

        const cpuRect = document.getElementById('cpu-socket').getBoundingClientRect();
        const dx = cpuRect.left + cpuRect.width/2 - (from.left + from.width/2);
        const dy = cpuRect.top  + cpuRect.height/2 - (from.top  + from.height/2);

        packet.animate(
          [ { transform: 'translate(0,0)' }, { transform: `translate(${dx}px, ${dy}px)` } ],
          { duration: latencies[key], easing: 'linear' }
        ).onfinish = () => packet.remove();
      });
    });
  </script>
</body>
</html>